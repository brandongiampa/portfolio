var modalAd,modalAdContent,modalAdTimer,redirect,modalNav,modalNavContent,hamburger,hamburgerTop,hamburgerBottom,xOuts,isScrolling=!1,menuIsShowing=!1,modalAdTimerMilliseconds=9e5;const setUpPage=new Promise(e=>{setUpDOMVariables(),setSmoothScroll(),animate(),window.addEventListener("scroll",onScroll),window.addEventListener("resize",onResize),setUpModals(),null!==redirect&&setUpRedirect(5),fixWorkLinkMobile(),e()});function setModalAdBackgroundImage(){const e=document.getElementsByClassName("img-carousel").length>0?"../img/":"img/";document.getElementById("modal-ad-bg").style.backgroundImage=`url( '${e}thinking-opt.jpg' )`}function setModalNavBackgroundImage(){const e=document.getElementsByClassName("img-carousel").length>0?"../img/":"img/";document.getElementById("modal-nav-bg").style.backgroundImage=`url( '${e}code-opt.jpg' )`}function openModal(e){e.style.zIndex="5",e.style.visibility="visible",e.style.opacity=1;let t=e.id;document.querySelector("#"+t+" .modal-content").style.bottom="0",document.querySelector("#"+t+" .modal-content .x-out").style.opacity=1}function closeModal(e){xOut=e.target.parentElement;let t=xOut.parentElement.parentElement;t.style.opacity=0;let o=t.id;document.querySelector("#"+o+" .modal-content").style.bottom="100%",document.querySelector("#"+o+" .x-out").style.opacity=0,setTimeout(()=>{t.style.zIndex="-1",t.style.visibility="hidden"},1200),"x-out-nav"===xOut.id&&animateHamburger()}function setUpModals(){setTimeout(()=>{openModal(modalAd)},modalAdTimerMilliseconds),hamburger.addEventListener("click",()=>{openModal(modalNav)}),hamburger.addEventListener("click",animateHamburger),xOuts=document.getElementsByClassName("x-out-modal");for(let e=0;e<xOuts.length;e++)xOuts[e].addEventListener("click",closeModal)}function setUpDOMVariables(){hamburger=document.getElementById("hamburger"),hamburgerTop=document.getElementById("hamburger-top"),hamburgerBottom=document.getElementById("hamburger-bottom"),modalNavContent=document.getElementById("modal-nav-content"),modalNav=document.getElementById("modal-nav"),modalAd=document.getElementById("modal-ad"),modalAdContent=document.getElementById("modal-ad-content"),xOuts=document.getElementsByClassName("x-out"),redirect=document.getElementById("redirect")}function fixWorkLinkMobile(){let e=document.getElementsByClassName("work");for(let t=0;t<e.length;t++)e[t].addEventListener("touch",()=>{e[t].firstChild.nextSibling.style.visibility="hidden"})}function setUpRedirect(e){e<0?window.location="https://brandongiampa.com":setTimeout(()=>{redirect.innerText=e,setUpRedirect(e-1)},1e3)}function setSmoothScroll(){links=document.querySelectorAll("a");for(let e=0;e<links.length;e++)""!==links[e].hash&&links[e].addEventListener("click",t=>{t.preventDefault();window.scrollY;let o=links[e].hash.substring(1,links[e].hash.length);smoothScrollTo(document.getElementById(o).offsetTop)})}function smoothScrollTo(e){let t=window.scrollY;setTimeout(()=>{e-t<0?window.scrollTo(0,e):(window.scrollTo(0,t+6),smoothScrollTo(e))})}function animateHamburger(){menuIsShowing?(hamburgerTop.style.transform="rotate(0)",hamburgerBottom.style.transform="rotate(0)",hamburgerTop.style.top="0",hamburgerBottom.style.top="0",hamburgerTop.style.opacity="1",hamburgerBottom.style.opacity="1"):(hamburgerTop.style.transform="rotate(-45deg)",hamburgerBottom.style.transform="rotate(45deg)",hamburgerTop.style.top="5px",hamburgerBottom.style.top="-5px",hamburgerTop.style.opacity="0",hamburgerBottom.style.opacity="0"),menuIsShowing=!menuIsShowing}function onResize(){animate(),cancelTimer()}function animate(){let e=document.getElementsByClassName("animated");for(let t=0;t<e.length;t++){let o=window.pageYOffset,n=o+window.innerHeight,l=(window.innerHeight,e[t]),a=l.getBoundingClientRect().top+o,i=a+l.offsetHeight,m=l.offsetHeight,r=a+.25*m,s=i-.25*m;(r<=n&&r>o||s>=o&&s<n)&&(l.classList.contains("animate")||(l.style.visibility="visible",l.classList+=" animate")),l.classList.contains("animate")||(l.style.visibility="hidden")}}function onScroll(){isScrolling=!0,setInterval(function(){isScrolling&&(scrolling=!1,animate())},250),cancelTimer()}function cancelTimer(){clearTimeout(modalAdTimer),modalAdTimer=setTimeout(()=>{openModal(modalAd)},modalAdTimerMilliseconds)}setUpPage.then(()=>{setModalNavBackgroundImage()}).then(()=>{setModalAdBackgroundImage()});